# Create test installers for UWP apps without code signing
This repository allows you to create an installer for your own UWP apps without worrying about signing your app packages or going through the Microsoft Store. This is intended to be used only by app developers, not end users looking to install arbitrary unsigned or untrusted packages. To run the installers generated by this repo, users do not need to enable developer mode, but they do need to be able to sideload (which has been the Windows default for a long time) and will need administrator permission (unlike properly signed packages).

This should not be your main means of app distribution! I would only recommend using it in limited scenarios, such as sharing your own apps with friends and family or possibly for beta tests.

Note: at least for the purposes of this repository, .msix and .appx are synonymous.

## How it works
1. Through a transparently run PowerShell script, the installer creates and installs a new self-signed certificate _on the user’s machine_ (each install gets its own certificate)
2. The installer extracts your package to the user’s temporary folder
3. The installer signs the package
4. The installer installs the package (which is now possible because it is signed by a certificate the machine trusts)
5. The installer cleans up after itself by deleting all temporary files and _uninstalls the generated certificate_ (this is possible because the package need only be trusted at the time of installation, not after)

If all goes well, the installation is just as clean it normally is to install MSIX packages, which is why there is no uninstaller—Windows does that for us.

## How to use
Again, this repo is meant to be used for developers to create their own installers. It is not meant to be downloaded to use by end users to install packages they find online (which is why there are no binaries published here).

Developers can create installers by customizing this repo. Ideally, to make your own installer, the only thing you would have to change is Sample.bat, Package.h, and Text [language].h, though at this early stage, some customization might not be available through those files. After replacing the sample information with your own, you should be able to build app packages through running Sample.bat, which will also automatically build them into the installer. You will then get a file called Installer.exe that you can distribute. Installer.exe is only compiled to x86, as this will run on x86, x64, and ARM64 Windows installations.

Do not run Generate.bat directly. Sample.bat is meant to be run. In the future, Sample.bat might be flexible enough that you would be able to only make copies of the configuration for each of your apps instead of the whole repo.

### Current limitations

Unfortunately, the installer is (currently) limited to one language at a time. You can duplicate Text en-US.h and translate it, but you will need to change the language in Package.h for each Installer.exe you generate. Also, some of the text is currently hard coded in the installer.

Unlike the built-in installer for MSIX packages on Windows, this app does not list permissions that your package requires. You should customize the text manually to include this information on one of the pages. You could also consider adding publisher and version information. For each version, you also need to change the MSIXSIGNERBEFORE variable in Sample.bat.

This repo is set up assuming that you are making a .NET UWP app. Make sure that it is including the correct dependencies by examining the output of Create App Packages in Visual Studio.

This method does not support automatic updates. The installer will install new versions on top of old versions.

### What about Windows 10 Mobile?
The installer places ARM builds in a folder called Windows 10 Mobile. This installer won’t work on anything but Windows 10 desktops, laptops, and tablets, but you might want to distribute Windows 10 Mobile builds. The script does not sign your mobile build, but keep in mind that to sideload Windows 10 Mobile apps in developer mode (not sure about “Sideload apps” mode), they do need to be signed, but don’t need to be trusted, that is, to go through any special steps that this installer does for PCs.
